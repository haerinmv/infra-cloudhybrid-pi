<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="Page-1" id="N0-wxtb7g4xStQUxMmeJ">
    <mxGraphModel dx="3420" dy="2507" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="myPwyTrP36TKhM5uVB9E-11" parent="1" style="swimlane;whiteSpace=wrap;html=1;startSize=40;" value="RASPBERRY PI 4 8GB ( SERVEUR ON PREMISE )" vertex="1">
          <mxGeometry height="690" width="1020" x="380" y="190" as="geometry">
            <mxRectangle height="40" width="320" x="380" y="190" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-12" parent="myPwyTrP36TKhM5uVB9E-11" style="rounded=1;whiteSpace=wrap;html=1;align=left;" value="&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Interface Réseau :&amp;nbsp;&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;-eth0: 192.168.1.10/24&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;-wg0: 10.8.0.1/24&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;-tun0: 10.10.0.1/30&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="170" x="10" y="60" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-15" parent="myPwyTrP36TKhM5uVB9E-11" style="rounded=1;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;OS : Ubuntu serveur&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;Fail2ban en place&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;Docker engine&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="160" x="270" y="60" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-16" parent="myPwyTrP36TKhM5uVB9E-11" style="swimlane;whiteSpace=wrap;html=1;" value="DMZ - mes services exposés&amp;nbsp;" vertex="1">
          <mxGeometry height="200" width="420" x="10" y="150" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-17" parent="myPwyTrP36TKhM5uVB9E-16" style="rounded=1;whiteSpace=wrap;html=1;" value="NextCloud&lt;div&gt;Stockage et users&lt;/div&gt;&lt;div&gt;Ports 443 HTTPS&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="390" x="10" y="30" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-18" parent="myPwyTrP36TKhM5uVB9E-16" style="rounded=1;whiteSpace=wrap;html=1;" value="HoneyPot Cowrie&lt;div&gt;Fake ssh sur le port 2222&lt;/div&gt;&lt;div&gt;Captures des attaques&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="390" x="15" y="110" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-23" parent="myPwyTrP36TKhM5uVB9E-11" style="swimlane;whiteSpace=wrap;html=1;" value="Monitoring" vertex="1">
          <mxGeometry height="200" width="510" x="480" y="150" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-25" parent="myPwyTrP36TKhM5uVB9E-23" style="rounded=1;whiteSpace=wrap;html=1;" value="Prometheus : 9090" vertex="1">
          <mxGeometry height="60" width="130" x="20" y="40" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-26" parent="myPwyTrP36TKhM5uVB9E-23" style="rounded=1;whiteSpace=wrap;html=1;" value="Node Exporter : 9100" vertex="1">
          <mxGeometry height="60" width="130" x="20" y="110" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-27" parent="myPwyTrP36TKhM5uVB9E-23" style="rounded=1;whiteSpace=wrap;html=1;" value="Grafana : 3000" vertex="1">
          <mxGeometry height="60" width="120" x="190" y="40" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-30" edge="1" parent="myPwyTrP36TKhM5uVB9E-23" source="myPwyTrP36TKhM5uVB9E-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="myPwyTrP36TKhM5uVB9E-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="150" />
            </Array>
            <mxPoint x="410" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-28" parent="myPwyTrP36TKhM5uVB9E-23" style="rounded=1;whiteSpace=wrap;html=1;" value="AlertManager : 9093" vertex="1">
          <mxGeometry height="60" width="120" x="190" y="110" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-29" parent="myPwyTrP36TKhM5uVB9E-23" style="rounded=1;whiteSpace=wrap;html=1;" value="Telegram ou Discord" vertex="1">
          <mxGeometry height="80" width="120" x="350" y="40" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-31" parent="myPwyTrP36TKhM5uVB9E-11" style="rounded=1;whiteSpace=wrap;html=1;" value="Stockage :&amp;nbsp;&lt;div&gt;- SD 128 GB&lt;/div&gt;&lt;div&gt;- Futur SSD USB&lt;/div&gt;&lt;div&gt;- Docker Volumes&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="200" x="635" y="60" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-32" parent="myPwyTrP36TKhM5uVB9E-11" style="swimlane;whiteSpace=wrap;html=1;" value="Securite et logs" vertex="1">
          <mxGeometry height="200" width="420" x="10" y="370" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-35" edge="1" parent="myPwyTrP36TKhM5uVB9E-32" source="myPwyTrP36TKhM5uVB9E-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.667;entryDx=0;entryDy=0;entryPerimeter=0;" target="myPwyTrP36TKhM5uVB9E-34">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="60" y="140" />
            </Array>
            <mxPoint x="75" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-33" parent="myPwyTrP36TKhM5uVB9E-32" style="rounded=1;whiteSpace=wrap;html=1;" value="Wazuh Agent&lt;div&gt;(ids)&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="15" y="40" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-34" parent="myPwyTrP36TKhM5uVB9E-32" style="rounded=1;whiteSpace=wrap;html=1;" value="&amp;nbsp;CloudWatch agent&lt;div&gt;Envoie des Logs&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="220" y="100" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-36" parent="myPwyTrP36TKhM5uVB9E-11" style="swimlane;whiteSpace=wrap;html=1;" value="Machine Learning&amp;nbsp;" vertex="1">
          <mxGeometry height="200" width="510" x="480" y="370" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-41" parent="myPwyTrP36TKhM5uVB9E-36" style="rounded=1;whiteSpace=wrap;html=1;" value="Mise en place apres stabilisation" vertex="1">
          <mxGeometry height="60" width="290" x="105" y="80" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-42" parent="1" style="swimlane;whiteSpace=wrap;html=1;" value="AWS CLOUD EU EST" vertex="1">
          <mxGeometry height="630" width="480" x="1950" y="190" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-52" parent="myPwyTrP36TKhM5uVB9E-42" style="swimlane;whiteSpace=wrap;html=1;" value="VPC&amp;nbsp;10.20.0.0/16" vertex="1">
          <mxGeometry height="210" width="430" x="30" y="30" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-66" edge="1" parent="myPwyTrP36TKhM5uVB9E-52" source="myPwyTrP36TKhM5uVB9E-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="myPwyTrP36TKhM5uVB9E-67">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-53" parent="myPwyTrP36TKhM5uVB9E-52" style="rounded=1;whiteSpace=wrap;html=1;" value="Subnet Public&lt;div&gt;&lt;font style=&quot;color: rgb(51, 0, 0);&quot;&gt;&lt;span class=&quot;token&quot; style=&quot;color: rgb(209, 154, 102);&quot;&gt;10.20&lt;/span&gt;&lt;span class=&quot;token&quot; style=&quot;color: rgb(97, 175, 239);&quot;&gt;.1.0/24&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="80" x="60" y="140" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-67" parent="myPwyTrP36TKhM5uVB9E-52" style="rounded=1;whiteSpace=wrap;html=1;" value="EC2 t2.micro&lt;div&gt;passerelle VPN&lt;/div&gt;&lt;div&gt;WireGuard&lt;/div&gt;&lt;div&gt;Security Group&lt;/div&gt;&lt;div&gt;Port 51820 UDP&lt;/div&gt;" vertex="1">
          <mxGeometry height="100" width="120" x="300" y="100" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-71" edge="1" parent="myPwyTrP36TKhM5uVB9E-52" source="myPwyTrP36TKhM5uVB9E-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="myPwyTrP36TKhM5uVB9E-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-70" parent="myPwyTrP36TKhM5uVB9E-52" style="rounded=1;whiteSpace=wrap;html=1;" value="Internet Gateway" vertex="1">
          <mxGeometry height="50" width="110" x="45" y="50" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-83" edge="1" parent="myPwyTrP36TKhM5uVB9E-52" source="myPwyTrP36TKhM5uVB9E-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.583;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" target="myPwyTrP36TKhM5uVB9E-67">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="370" y="50" />
            </Array>
            <mxPoint x="370" y="60.00000000000023" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-81" parent="myPwyTrP36TKhM5uVB9E-52" style="rounded=1;whiteSpace=wrap;html=1;" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;Security Group :&lt;br/&gt;Port 51820/UDP ouvert&lt;br/&gt;SSH désactivé depuis Internet&lt;/font&gt;" vertex="1">
          <mxGeometry height="60" width="130" x="180" y="30" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-55" parent="myPwyTrP36TKhM5uVB9E-42" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" value="Public" vertex="1">
          <mxGeometry height="360" width="310" x="30" y="250" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-47" parent="myPwyTrP36TKhM5uVB9E-55" style="rounded=1;whiteSpace=wrap;html=1;" value="EC2 free tier&lt;div&gt;12 mois&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="60" y="40" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-48" parent="myPwyTrP36TKhM5uVB9E-55" style="rounded=1;whiteSpace=wrap;html=1;" value="S3 + Glacier (lifecycle) 5go" vertex="1">
          <mxGeometry height="60" width="180" x="60" y="120" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-50" parent="myPwyTrP36TKhM5uVB9E-55" style="rounded=1;whiteSpace=wrap;html=1;" value="IAM avec MFA&lt;div&gt;Least Privilege&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="60" y="200" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-51" parent="myPwyTrP36TKhM5uVB9E-55" style="rounded=1;whiteSpace=wrap;html=1;" value="CloudWatch&lt;div&gt;Logs et métriques&lt;/div&gt;&lt;div&gt;5go&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="60" y="275" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-80" edge="1" parent="myPwyTrP36TKhM5uVB9E-55" source="myPwyTrP36TKhM5uVB9E-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="myPwyTrP36TKhM5uVB9E-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-43" parent="1" style="rounded=1;whiteSpace=wrap;html=1;align=center;" value="&lt;b&gt;VPN SITE TO SITE&lt;/b&gt;&lt;div&gt;WireGuard&lt;/div&gt;&lt;div&gt;10.10.0.0/30&lt;/div&gt;&lt;div&gt;Backup auto :&lt;/div&gt;&lt;div&gt;Incremental tout les 6h&lt;/div&gt;&lt;div&gt;Complet chaque dimanche 2h&lt;/div&gt;&lt;div&gt;restic&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="260" x="1550" y="460" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-44" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#d79b00;dashed=1;entryX=0;entryY=0.4;entryDx=0;entryDy=0;entryPerimeter=0;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1400" y="509.7" as="sourcePoint" />
            <mxPoint x="1550" y="509.7" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-45" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#d79b00;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1870" y="509.44" />
            </Array>
            <mxPoint x="1810" y="509.44" as="sourcePoint" />
            <mxPoint x="1960" y="509" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-56" parent="1" style="swimlane;whiteSpace=wrap;html=1;" value="ZONE VPN WIREGUARD" vertex="1">
          <mxGeometry height="250" width="340" x="-430" y="340" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-62" parent="myPwyTrP36TKhM5uVB9E-56" style="rounded=1;whiteSpace=wrap;html=1;" value="PC&lt;div&gt;10.8.0.2&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="120" x="110" y="95" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-58" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#d79b00;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="480" as="sourcePoint" />
            <mxPoint x="380" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-60" parent="1" style="rounded=1;whiteSpace=wrap;html=1;align=center;" value="&lt;b&gt;VPN CHIFFRE&lt;/b&gt;&lt;div&gt;WireGuard&lt;/div&gt;&lt;div&gt;Port : 51820 UDP&lt;/div&gt;&lt;div&gt;Chiffrement chacha20 et poly1305&lt;/div&gt;" vertex="1">
          <mxGeometry height="100" width="260" y="430" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-61" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#d79b00;dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-90" y="479" as="sourcePoint" />
            <mxPoint y="479.23" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-68" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;UFW FIREWALL&lt;/font&gt;&lt;div&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;51820 WireGuard&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;443 TCP&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;2222 TCP&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;le reste bloque&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="270" x="700" y="40" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-69" parent="1" style="rounded=1;whiteSpace=wrap;html=1;" value="INTERNET" vertex="1">
          <mxGeometry height="60" width="120" x="770" y="-100" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-73" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="pi : 10.10.0.1" vertex="1">
          <mxGeometry height="30" width="80" x="1440" y="480" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-74" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="ec2 : 10.10.0.2" vertex="1">
          <mxGeometry height="30" width="90" x="1850" y="480" as="geometry" />
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-78" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#d79b00;dashed=1;entryX=0.408;entryY=-0.015;entryDx=0;entryDy=0;entryPerimeter=0;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="827" y="21.8" />
              <mxPoint x="827" y="21.8" />
            </Array>
            <mxPoint x="827" y="-38.2" as="sourcePoint" />
            <mxPoint x="827.1599999999999" y="40.00000000000004" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="myPwyTrP36TKhM5uVB9E-79" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#d79b00;dashed=1;entryX=0.408;entryY=-0.015;entryDx=0;entryDy=0;entryPerimeter=0;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="827" y="170" />
              <mxPoint x="827" y="170" />
            </Array>
            <mxPoint x="827" y="160" as="sourcePoint" />
            <mxPoint x="827.1599999999999" y="188.20000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
